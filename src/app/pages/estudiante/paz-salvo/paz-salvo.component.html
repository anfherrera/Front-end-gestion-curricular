<div class="paz-salvo-container">

  <!-- Documentación requerida -->
  <mat-card class="card-section">
    <mat-card-title class="card-title">Adjuntar Documentación Requerida</mat-card-title>
    <mat-card-content>
      <ul class="required-list">
        <li *ngFor="let doc of documentosRequeridos">{{ doc.label }}</li>
        <li *ngIf="archivosExclusivos.length">{{ archivosExclusivos.join(' o ') }} (solo uno)</li>
      </ul>
    </mat-card-content>
  </mat-card>

  <!-- Subir Archivos -->
  <mat-card class="card-section">
    <mat-card-title class="card-title">Subir Archivos</mat-card-title>
    <mat-card-content>
      <app-file-upload
        (archivosChange)="onArchivosChange($event)"
        [reset]="resetFileUpload">
      </app-file-upload>

      <!-- Botón habilitado solo si cumple la validación -->
      <div class="enviar-solicitud" style="margin-top: 16px;">
        <button mat-raised-button class="btn-enviar"
                [disabled]="!puedeEnviar()"
                (click)="onSolicitudEnviada()">
          Enviar Solicitud
        </button>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Seguimiento de solicitud -->
  <mat-card class="card-section">
    <mat-card-title class="card-title">Seguimiento de solicitud</mat-card-title>
    <mat-card-content>
      <p *ngIf="solicitudes.length === 0" class="sin-solicitudes">
        No se ha enviado ninguna solicitud aún.
      </p>

      <app-request-status-table
        *ngIf="solicitudes.length > 0"
        [solicitudes]="solicitudes">
      </app-request-status-table>
    </mat-card-content>
  </mat-card>

</div>
