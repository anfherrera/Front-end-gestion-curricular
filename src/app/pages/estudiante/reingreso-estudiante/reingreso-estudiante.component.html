<div class="container">
  <div class="header-section">
    <h1 class="page-title">
      <mat-icon class="title-icon">school</mat-icon>
      Solicitud de Reingreso
    </h1>
    <p class="page-description">
      Aquí puedes crear y gestionar tus solicitudes de reingreso a la universidad.
    </p>
  </div>

  <!-- Sección de documentos requeridos -->
  <mat-card class="docs-card">
    <mat-card-header>
      <mat-card-title>
        <mat-icon>description</mat-icon>
        Documentos Requeridos
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <app-required-docs
        [requiredFiles]="documentosRequeridos"
        [archivos]="archivosActuales">
      </app-required-docs>
    </mat-card-content>
  </mat-card>

  <!-- Sección de carga de archivos -->
  <mat-card class="card-section upload-card">
    <mat-card-title class="card-title">
      Cargar Documentos
    </mat-card-title>
    <mat-card-content>
      <app-file-upload
        [archivos]="archivosActuales"
        [reset]="resetFileUpload"
        (archivosChange)="onArchivosChange($event)">
      </app-file-upload>

      <div class="enviar-solicitud">
        <button
          mat-raised-button
          color="primary"
          [disabled]="!puedeEnviar()"
          (click)="onSolicitudEnviada()"
          class="btn-enviar">
          <mat-icon>send</mat-icon>
          Enviar Solicitud
        </button>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Sección de solicitudes existentes -->
  <mat-card class="requests-card" *ngIf="solicitudes.length > 0">
    <mat-card-header>
      <mat-card-title>
        <mat-icon>history</mat-icon>
        Mis Solicitudes de Reingreso
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <app-request-status-table
        [solicitudes]="solicitudes"
        [showComentarios]="true"
        [showOficio]="true"
        (verComentarios)="verComentarios($event)"
        (descargarOficio)="descargarOficio($event.id, $event.nombreArchivo)">
      </app-request-status-table>
    </mat-card-content>
  </mat-card>

  <!-- Mensaje cuando no hay solicitudes -->
  <mat-card class="empty-card" *ngIf="solicitudes.length === 0">
    <mat-card-content>
      <div class="empty-state">
        <mat-icon class="empty-icon">inbox</mat-icon>
        <h3>No tienes solicitudes de reingreso</h3>
        <p>Crea tu primera solicitud cargando los documentos requeridos arriba.</p>
      </div>
    </mat-card-content>
  </mat-card>
</div>
